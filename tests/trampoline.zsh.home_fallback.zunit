#!/usr/bin/env zunit

@setup {
  unset XDG_CONFIG_HOME
  load '../trampoline.zsh'
}

@test 'zt_get_configuration_file_path gets main fallback' {
  # setup
  local path_expected="$HOME/.config/zt/config.csv"
  # exercise
  run zt_get_configuration_file_path 'main'
  # verify
  assert $state equals 0
  assert "$output" same_as "$path_expected"
}

@test 'zt_get_configuration_file_path gets local fallback' {
  # setup
  local path_expected="$HOME/.config/zt/config_local.csv"
  # exercise
  run zt_get_configuration_file_path 'local'
  # verify
  assert $state equals 0
  assert "$output" same_as "$path_expected"
}
